(this["webpackJsonpuse-context-sendit"]=this["webpackJsonpuse-context-sendit"]||[]).push([[0],{20:function(e,a,t){e.exports=t.p+"static/media/send-logo.b17716d4.png"},39:function(e,a,t){e.exports=t.p+"static/media/banner-1.51380477.jpg"},40:function(e,a,t){e.exports=t.p+"static/media/banner-2.429da4fd.jpg"},41:function(e,a,t){e.exports=t.p+"static/media/banner-3.4ce90574.jpg"},42:function(e,a){e.exports="data:image/png;base64,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"},44:function(e,a,t){e.exports=t(59)},49:function(e,a,t){},59:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(12),c=t.n(l),o=(t(49),t(5)),s=t(9),i=t(8),m=r.a.createContext(),u=m.Provider,d=(m.Consumer,m),p=t(36),E=t(16),b=t(11),g=t(17),h=t(34),f=t(28);function v(){var e=Object(p.a)(["\n  padding: 10px;\n  background-color: aqua;\n  width: 50%;\n"]);return v=function(){return e},e}var N=function(e){var a=Object(n.useContext)(d),t=a.state,l=(a.dispatch,Object(n.useState)("")),c=Object(o.a)(l,2),s=c[0],m=c[1],u=Object(n.useState)([]),p=Object(o.a)(u,2),N=p[0],y=p[1],S=Object(n.useState)({}),w=Object(o.a)(S,2),O=(w[0],w[1]),k=Object(n.useState)(!1),j=Object(o.a)(k,2),A=j[0],C=j[1],I=Object(n.useState)(""),x=Object(o.a)(I,2),D=x[0],P=x[1],T=Object(n.useState)(""),L=Object(o.a)(T,2),M=L[0],R=L[1],G=Object(n.useState)(!1),H=Object(o.a)(G,2),U=H[0],F=H[1],J=Object(n.useState)(!1),Q=Object(o.a)(J,2),X=Q[0],W=Q[1],B=Object(n.useState)(""),K=Object(o.a)(B,2),V=K[0],Y=K[1],z=Object(n.useState)(""),q=Object(o.a)(z,2),Z=q[0],_=q[1],$=Object(n.useState)(!1),ee=Object(o.a)($,2),ae=(ee[0],ee[1]),te=function(){if(""!==D){fetch("".concat("https://send-it-app.herokuapp.com","/order/").concat(Z),{method:"PATCH",headers:{"Content-type":"application/json"},body:JSON.stringify({current_loc:D})}).then((function(e){return e.json()})).then((function(a){console.log("fetched",Z),!0===a.success&&(i.b.success("locaation changed successfully"),C(!1),e.history.push("/admin"),window.location.reload())})).catch((function(e){return console.log(e)}))}};Object(n.useEffect)((function(){try{var e=JSON.parse(localStorage.getItem("token")),a=Object(E.a)(e);O(a),console.log("llll",a),console.log(t);fetch("".concat("https://send-it-app.herokuapp.com","/order"),{method:"GET",headers:{Authorization:e}}).then((function(e){return e.json()})).then((function(e){e.data.length?(console.log(e.data),y(e.data)):(m("There are no pending orders"),console.log(s))})).catch((function(e){return console.log(e)}))}catch(n){}}),[]);var ne=function(e){C(!0),_(e)},re=function(e){F(!0),_(e)},le=f.a.button(v()),ce=function(e){var a=e.children,t=e.target;return r.a.createElement("div",null,t,a)},oe=function(){if(h.a){fetch("".concat("https://send-it-app.herokuapp.com","/order/").concat(Z),{method:"PATCH",headers:{"Content-type":"application/json"},body:JSON.stringify({status:V.value})}).then((function(e){return e.json()})).then((function(a){console.log("fetched",Z),!0===a.success&&(console.log(M),i.b.success("status changed successfully"),F(!1),e.history.push("/admin"),window.location.reload())})).catch((function(e){return console.log(e)}))}};return r.a.createElement("div",{className:"profile"},r.a.createElement("div",{className:"card mb-4"},r.a.createElement("div",{className:"card-header"},"Summary"),r.a.createElement("ul",{className:"list-group list-group-flush"},r.a.createElement("li",{className:"list-group-item"},r.a.createElement("h6",null,"Number of orders: ",N.length)),r.a.createElement("li",{className:"list-group-item"},r.a.createElement("h6",null,"Orders in transit:"," ",N.filter((function(e){return"Ready-to-pickup"===e.status})).length)),r.a.createElement("li",{className:"list-group-item"},r.a.createElement("h6",null,"Delivered:"," ",N.filter((function(e){return"Delivered"===e.status})).length)),r.a.createElement("li",{className:"list-group-item"},r.a.createElement("h6",null,"Cancelled Orders:"," ",N.filter((function(e){return"Cancelled"===e.status})).length)))),r.a.createElement("table",{className:"table table-responsive table-hover table-striped"},r.a.createElement("thead",{className:"table-secondary"},r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"Order ID"),r.a.createElement("th",{scope:"col"},"Pickup Location"),r.a.createElement("th",{scope:"col"},"Destination"),r.a.createElement("th",{scope:"col"},"Recipient Name"),r.a.createElement("th",{scope:"col"},"Recipient Mobile Number"),r.a.createElement("th",{scope:"col"},"Current Location"),r.a.createElement("th",{scope:"col"},"Order Status"),r.a.createElement("th",{scope:"col"},"Edit Location"),r.a.createElement("th",{scope:"col"},"Cancel Parcel Order"))),r.a.createElement("tbody",null,N.map((function(a){return r.a.createElement("tr",{key:a.orderId},r.a.createElement("td",null,a.orderId),r.a.createElement("td",null,a.pickup),r.a.createElement("td",null,a.destination),r.a.createElement("td",null,a.recName),r.a.createElement("td",null,a.recMobileNo),r.a.createElement("td",null,a.current_loc),r.a.createElement("td",null,a.status,r.a.createElement("span",null,r.a.createElement("button",{className:"btn btn-primary",onClick:function(){return re(a.orderId)}},r.a.createElement("i",{className:"fa fa-pencil"}))," ")),r.a.createElement("td",{className:"text-center"},r.a.createElement("button",{onClick:function(){return ne(a.orderId)},className:"btn btn-secondary p-1 pl-2"},r.a.createElement("i",{className:"fa fa-edit"}))),r.a.createElement("td",{className:"text-center"},r.a.createElement("button",{onClick:function(){return function(a){!0===window.confirm("Are you sure you want to remove this parcel Order?")?fetch("".concat("https://send-it-app.herokuapp.com","/order/").concat(a),{method:"DELETE",headers:{"Content-type":"application/json"}}).then((function(e){return e.json()})).then((function(e){!0===e.success?(window.location="/admin",i.b.success("parcel successfully deleted")):e.error&&console.log(e.error)})).catch((function(e){return console.log(e)})):(e.history.push("/admin"),window.location.reload())}(a.orderId)},className:"btn btn-danger p-1"},r.a.createElement("i",{className:"fa fa-trash"}))))})))),r.a.createElement("h4",{className:"text-danger text-center"},s),r.a.createElement(b.a,{show:A,onHide:te},r.a.createElement(b.a.Header,{closeButton:!0},r.a.createElement(b.a.Title,null,"Edit Current Location")),r.a.createElement(b.a.Body,null,r.a.createElement("input",{className:"modalTextInput form-control",onChange:function(e){P(e.target.value)},value:D,name:"newDest",placeholder:"Enter a new Destination",autoFocus:!0})),r.a.createElement(b.a.Footer,null,r.a.createElement(g.a,{variant:"secondary",onClick:te},"Close"),r.a.createElement(g.a,{variant:"primary",onClick:te},"Save Changes"))),r.a.createElement(b.a,{show:U,onHide:oe},r.a.createElement(b.a.Header,{closeButton:!0},r.a.createElement(b.a.Title,null,"Edit Current status")),r.a.createElement(b.a.Body,null,r.a.createElement(ce,{target:r.a.createElement(le,{onClick:function(){return W(!X)}},V?V.label:"Select a Status")},X&&r.a.createElement(h.a,{autoFocus:!0,menuIsOpen:!0,onChange:function(e){W(!X),Y(e),R(e),ae(!0)},options:[{value:"In-transit",label:"In-transit"},{value:"Delivered",label:"Delivered"},{value:"Cancelled",label:"Cancelled"}],value:V,controlShouldRenderValue:!0}))),r.a.createElement(b.a.Footer,null,r.a.createElement(g.a,{variant:"secondary",onClick:oe},"Close"),r.a.createElement(g.a,{variant:"primary",onClick:oe},"Save Changes"))))},y=t(14),S=t(6),w=t(3),O=function(e){var a=Object(n.useContext)(d),t=(a.state,a.dispatch),l=Object(n.useState)({email:"",password:"",isSubmitting:!1,errorMessage:null}),c=Object(o.a)(l,2),s=c[0],m=c[1],u=function(e){m(Object(S.a)(Object(S.a)({},s),{},Object(y.a)({},e.target.name,e.target.value)))};return r.a.createElement("div",{className:"loginForm"},r.a.createElement("div",{className:"container"},r.a.createElement("form",{onSubmit:function(a){var n="https://send-it-app.herokuapp.com";a.preventDefault(),m(Object(S.a)(Object(S.a)({},s),{},{isSubmitting:!0,errorMessage:null})),fetch("".concat(n,"/login"),{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:s.email,password:s.password})}).then((function(e){return e.json()})).then((function(a){if(console.log("resss",a),"Authorization failed"===a.message&&""!==a.password)i.b.info("Unauthorized User, please enter a valid email address");else if(a.error)i.b.error("Incorrect password, please enter a valid password");else if(a.token){var r=a.user._id;localStorage.setItem("token",JSON.stringify(a.token)),fetch("".concat(n,"/login/me/").concat(r),{method:"GET",headers:{Authorization:a.token}}).then((function(e){return e.json()})).then((function(a){console.log("res",a),a.success?(console.log("res2",a.success),localStorage.setItem("userId",a.data._id),localStorage.setItem("user",a.data),console.log("got here",a.data.roles[0]),t({type:"LOGIN_SUCCESS",payload:a.data}),"user"==a.data.roles[0].name?(e.history.push("/profile"),i.b.success("Login successful")):"admin"==a.data.roles[0].name&&(e.history.push("/admin"),i.b.success("Login successful"))):a.error&&console.log("error",a.err)})).catch((function(e){console.log("error occurred",e),m(Object(S.a)(Object(S.a)({},s),{},{isSubmitting:!1,errorMessage:e.message||e.statusText}))}))}}))},className:"registrationForm"},r.a.createElement("h1",null,"Login"),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"email"},"Email address"),r.a.createElement("input",{value:s.email,onChange:u,name:"email",type:"email",className:"form-control",id:"email","aria-describedby":"emailHelp",required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{value:s.password,onChange:u,name:"password",type:"password",className:"form-control",id:"password",required:!0})),s.errorMessage&&r.a.createElement("span",{className:"form-error"},s.errorMessage),r.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Submit"),r.a.createElement("p",{className:"mt-4 text-right"},"Don't have an account?"," ",r.a.createElement(w.b,{className:"btn btn-primary",to:"/register"},"Register")))))},k=t(39),j=t.n(k),A=t(40),C=t.n(A),I=t(41),x=t.n(I),D=function(){return r.a.createElement("div",{id:"carouselExampleIndicators",className:"carousel slide","data-ride":"carousel"},r.a.createElement("ol",{className:"carousel-indicators"},r.a.createElement("li",{"data-target":"#carouselExampleIndicators","data-slide-to":"0",className:"active"}),r.a.createElement("li",{"data-target":"#carouselExampleIndicators","data-slide-to":"1"}),r.a.createElement("li",{"data-target":"#carouselExampleIndicators","data-slide-to":"2"})),r.a.createElement("div",{className:"carousel-inner"},r.a.createElement("div",{className:"carousel-item active"},r.a.createElement("img",{className:"d-block w-100",src:j.a,alt:"First slide"}),r.a.createElement("div",{className:"carousel-caption d-md-block"},r.a.createElement("h1",{className:"font-weight-bold"},"Building a stressless World through Speedy and Perfect Delivery.."),r.a.createElement("p",null,r.a.createElement(w.b,{to:"/register",className:"btn btn-primary bg-danger border-0 p-2"},"Get Started")))),r.a.createElement("div",{className:"carousel-item"},r.a.createElement("img",{className:"d-block w-100",src:C.a,alt:"Second slide"}),r.a.createElement("div",{className:"carousel-caption d-md-block"},r.a.createElement("h1",{className:"font-weight-bold"},"Building a stressless World through Speedy and Perfect Delivery.."),r.a.createElement("p",null,r.a.createElement(w.b,{to:"/register",className:"btn btn-primary bg-danger border-0 p-2"},"Get Started")))),r.a.createElement("div",{className:"carousel-item"},r.a.createElement("img",{className:"d-block w-100",src:x.a,alt:"Third slide"}),r.a.createElement("div",{className:"carousel-caption d-md-block"},r.a.createElement("h1",{className:"font-weight-bold"},"Building a stressless World through Speedy and Perfect Delivery.."),r.a.createElement("p",null,r.a.createElement(w.b,{to:"/register",className:"btn btn-primary bg-danger border-0 p-2"},"Get Started"))))))},P=t(42),T=t.n(P),L=function(){return r.a.createElement("div",{className:"bg-dark text-light",style:{height:"200px"}},r.a.createElement("footer",{className:"container py-5"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12 col-md"},r.a.createElement("img",{src:T.a,width:"30",height:"40",className:"App-logo",alt:""}),r.a.createElement("small",{className:"d-block mb-3 text-light"},"Copyright \xa9 2019. ",r.a.createElement("br",null),"Developed by Funby!")),r.a.createElement("div",{className:"col-6 col-md"},r.a.createElement("h5",null,"About Us"),r.a.createElement("ul",{className:"list-unstyled text-small"},r.a.createElement("li",null,r.a.createElement(w.b,{className:"text-light",to:"#"},"SendIT is a parcel/courier service that delivers orders perfectly with utmost speed")))),r.a.createElement("div",{className:"col-6 col-md"},r.a.createElement("h5",null,"Office Address"),r.a.createElement("ul",{className:"list-unstyled text-small"},r.a.createElement("li",null,r.a.createElement(w.b,{className:"text-light",to:"#"},"Victoria Island, Lagos State Nigeria")))),r.a.createElement("div",{className:"col-6 col-md"},r.a.createElement("h5",null,"Working Hours"),r.a.createElement("ul",{className:"list-unstyled text-small"},r.a.createElement("li",null,r.a.createElement(w.b,{className:"text-light",to:"#"},"Weekdays: 8am - 6pm")),r.a.createElement("li",null,r.a.createElement(w.b,{className:"text-light",to:"#"},"Weekends: 10am - 4pm")))),r.a.createElement("div",{className:"col-6 col-md"},r.a.createElement("h5",null,"More Info"),r.a.createElement("ul",{className:"list-unstyled text-small"},r.a.createElement("li",null,r.a.createElement(w.b,{className:"text-light",to:"#"},"Team")),r.a.createElement("li",null,r.a.createElement(w.b,{className:"text-light",to:"#"},"Locations")),r.a.createElement("li",null,r.a.createElement(w.b,{className:"text-light",to:"#"},"Privacy")),r.a.createElement("li",null,r.a.createElement(w.b,{className:"text-light",to:"#"},"Terms")))))))},M=window.google?window.google:{},R=function(e){var a=Object(n.useContext)(d),t=a.state,l=(a.dispatch,Object(n.useState)("")),c=Object(o.a)(l,2),s=c[0],m=c[1],u=Object(n.useState)([]),p=Object(o.a)(u,2),h=p[0],f=p[1],v=Object(n.useState)({}),N=Object(o.a)(v,2),S=(N[0],N[1]),w=Object(n.useState)(!1),O=Object(o.a)(w,2),k=O[0],j=O[1],A=Object(n.useState)(""),C=Object(o.a)(A,2),I=C[0],x=C[1],D=Object(n.useState)(""),P=Object(o.a)(D,2),T=P[0],L=P[1];Object(n.useEffect)((function(){var e=new M.maps.places.Autocomplete(document.getElementById("newDest"),{types:["geocode"]});console.log(document.getElementById("newDest")),M.maps.event.addListener(e,"place_changed",(function(){a()}));var a=function(){x(document.getElementById("newDest").value)}}),[]),Object(n.useEffect)((function(){try{var e=JSON.parse(localStorage.getItem("token")),a=Object(E.a)(e);S(a);var n=a.id;console.log(e),console.log("llll",n),console.log(t);fetch("".concat("https://send-it-app.herokuapp.com","/order/").concat(n),{method:"GET",headers:{Authorization:e}}).then((function(e){return e.json()})).then((function(e){e.data.length?(console.log(e.data),f(e.data)):(m("You donot have any parcel orders yet"),console.log(s))})).catch((function(e){return console.log(e)}))}catch(r){}}),[]);var R=function(){if(""!==I){fetch("".concat("https://send-it-app.herokuapp.com","/order/").concat(T),{method:"PATCH",headers:{"Content-type":"application/json"},body:JSON.stringify({destination:I})}).then((function(e){return e.json()})).then((function(a){console.log("fetched",T),!0===a.success&&(console.log(I),i.b.success("destination changed successfully"),j(!1),e.history.push("/profile"),window.location.reload())})).catch((function(e){return console.log(e)}))}},G=function(e){j(!0),L(e)};return r.a.createElement("div",{className:"profile"},r.a.createElement("div",{className:"card mb-4"},r.a.createElement("div",{className:"card-header"},"Summary"),r.a.createElement("ul",{className:"list-group list-group-flush"},r.a.createElement("li",{className:"list-group-item"},r.a.createElement("h6",null,"Number of orders: ",h.length)),r.a.createElement("li",{className:"list-group-item"},r.a.createElement("h6",null,"Orders in transit:"," ",h.filter((function(e){return"Ready-to-pickup"===e.status})).length)),r.a.createElement("li",{className:"list-group-item"},r.a.createElement("h6",null,"Delivered:"," ",h.filter((function(e){return"Delivered"===e.status})).length)),r.a.createElement("li",{className:"list-group-item"},r.a.createElement("h6",null,"Cancelled Orders:"," ",h.filter((function(e){return"Cancelled"===e.status})).length)))),r.a.createElement("table",{className:"table table-responsive table-hover table-striped"},r.a.createElement("thead",{className:"table-secondary"},r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"Order ID"),r.a.createElement("th",{scope:"col"},"Pickup Location"),r.a.createElement("th",{scope:"col"},"Destination"),r.a.createElement("th",{scope:"col"},"Recipient Name"),r.a.createElement("th",{scope:"col"},"Recipient Mobile Number"),r.a.createElement("th",{scope:"col"},"Current Location"),r.a.createElement("th",{scope:"col"},"Order Status"),r.a.createElement("th",{scope:"col"},"Edit Destination"),r.a.createElement("th",{scope:"col"},"Cancel Parcel Order"))),r.a.createElement("tbody",null,h.map((function(a){var t;return r.a.createElement("tr",{key:a.orderId},r.a.createElement("td",null,a.orderId),r.a.createElement("td",null,a.pickup),r.a.createElement("td",null,a.destination),r.a.createElement("td",null,a.recName),r.a.createElement("td",null,a.recMobileNo),r.a.createElement("td",null,a.current_loc),r.a.createElement("td",null,a.status),r.a.createElement("td",{className:"text-center"},r.a.createElement("button",(t={className:"editDest",orderid:"${item.orderId}",onClick:function(){return G(a.orderId)}},Object(y.a)(t,"className","btn btn-secondary p-1 pl-2"),Object(y.a)(t,"disabled","Cancelled"===a.status||"Delivered"===a.status),t),r.a.createElement("i",{className:"fa fa-edit"}))),r.a.createElement("td",{className:"text-center"},r.a.createElement("button",{onClick:function(){return function(a){!0===window.confirm("Are you sure you want to cancel this parcel Order?")?fetch("".concat("https://send-it-app.herokuapp.com","/order/").concat(a,"/cancel"),{method:"PATCH",headers:{"Content-type":"application/json"},body:JSON.stringify({})}).then((function(e){return e.json()})).then((function(a){!0===a.success&&(e.history.push("/profile"),i.b.success("parcel successfully deleted"),window.location.reload())})).catch((function(e){return console.log(e)})):(e.history.push("/profile"),window.location.reload())}(a.orderId)},className:"btn btn-danger p-1",disabled:"Cancelled"===a.status||"Delivered"===a.status},r.a.createElement("i",{className:"fa fa-trash"}))))})))),r.a.createElement("h4",{className:"text-danger text-center"},s),r.a.createElement("div",null,r.a.createElement(b.a,{show:k,onHide:R,style:{zIndex:"1050 !important"}},r.a.createElement(b.a.Header,{closeButton:!0},r.a.createElement(b.a.Title,null,"Enter a new Destination")),r.a.createElement(b.a.Body,null,r.a.createElement("input",{autoFocus:!0,className:"modalTextInput form-control newDest",onChange:function(e){x(e.target.value)},defaultValue:I,id:"newDest",name:"newDest",placeholder:"Enter a new Destination"})),r.a.createElement(b.a.Footer,null,r.a.createElement(g.a,{variant:"secondary",onClick:R},"Close"),r.a.createElement(g.a,{variant:"primary",onClick:R},"Save Changes")))))},G=JSON.parse(localStorage.getItem("user")),H=JSON.parse(localStorage.getItem("token")),U=G?{isLoggedIn:!0,user:G,token:H}:{isLoggedIn:!1,user:null,token:null},F=function(e,a){switch(a.type){case"LOGIN_SUCCESS":return Object(S.a)(Object(S.a)({},e),{},{isLoggedIn:!0,user:a.payload,token:a.payload,error:""});case"LOGIN_FAIL":return Object(S.a)(Object(S.a)({},e),{},{isLoggedIn:!1,user:null,error:a.payload});case"LOGOUT":return localStorage.clear(),Object(S.a)(Object(S.a)({},e),{},{isLoggedIn:!1,user:null});default:return e}},J=t(20),Q=t.n(J),X=function(){var e=r.a.useContext(d),a=e.state,t=e.dispatch;return r.a.createElement("nav",{className:"navbar navbar-expand-lg sticky-top navbar-dark bg-dark "},r.a.createElement(w.b,{className:"navbar-brand",to:"/"},r.a.createElement("img",{src:Q.a,className:"img-fluid",width:"180",height:"60",alt:"Header logo"})),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNavAltMarkup","aria-controls":"navbarNavAltMarkup","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarNavAltMarkup"},r.a.createElement("div",{className:"navbar-nav"},r.a.createElement(w.c,{className:"nav-item nav-link",to:"/profile"},a.user.firstname.toUpperCase()),r.a.createElement(w.c,{className:"nav-item nav-link btn btn-secondary mr-1 ml-1 text-white",to:"/createOrder"},"Create Order"),r.a.createElement(w.c,{className:"nav-item nav-link btn btn-danger",onClick:function(){t({type:"LOGOUT"}),window.location="/"},to:"/"},"Logout"))))},W=function(){return r.a.createElement("nav",{className:"navbar navbar-expand-lg sticky-top navbar-dark bg-dark "},r.a.createElement(w.b,{className:"navbar-brand",to:"/"},r.a.createElement("img",{src:Q.a,className:"img-fluid",width:"180",height:"60",alt:"Header logo"})),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNavAltMarkup","aria-controls":"navbarNavAltMarkup","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarNavAltMarkup"},r.a.createElement("div",{className:"navbar-nav"},r.a.createElement(r.a.Fragment,null,r.a.createElement(w.c,{className:"nav-item nav-link",to:"/"},"Home"),r.a.createElement(w.c,{className:"nav-item nav-link",to:"/register"},"Register"),r.a.createElement(w.c,{className:"nav-item nav-link btn btn-outline-primary",to:"/login"},"Login")))))},B=function(e){return r.a.createElement("nav",{className:"navbar navbar-expand-lg sticky-top navbar-dark bg-dark "},r.a.createElement(w.b,{className:"navbar-brand",to:"/"},r.a.createElement("img",{src:Q.a,className:"img-fluid",width:"180",height:"60",alt:"Header logo"})),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNavAltMarkup","aria-controls":"navbarNavAltMarkup","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarNavAltMarkup"},r.a.createElement("div",{className:"navbar-nav"},r.a.createElement(w.c,{className:"nav-item nav-link",to:"/profile"},"ADMIN"),r.a.createElement(w.c,{className:"nav-item nav-link btn btn-danger",onClick:function(){window.location="/",localStorage.clear()},to:"/home"},"Logout"))))},K=function(e){var a=r.a.useContext(d),t=(a.state,a.dispatch),n=r.a.useState({firstname:"",lastname:"",email:"",username:"",mobile:"",password:"",confirmPassword:"",isSubmitting:!1,errorMessage:null}),l=Object(o.a)(n,2),c=l[0],s=l[1],m=function(e){s(Object(S.a)(Object(S.a)({},c),{},Object(y.a)({},e.target.name,e.target.value)))};return r.a.createElement("div",{className:"registerationForm"},r.a.createElement("div",{className:"container"},r.a.createElement("form",{onSubmit:function(a){var n="https://send-it-app.herokuapp.com";a.preventDefault(),s(Object(S.a)(Object(S.a)({},c),{},{isSubmitting:!0,errorMessage:null})),fetch("".concat(n,"/signup"),{method:"POST",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"},body:JSON.stringify({firstname:c.firstname,lastname:c.lastname,username:c.username,email:c.email,password:c.password,confirm_password:c.confirmPassword,mobile:c.mobile})}).then((function(e){return e.json()})).then((function(a){if(console.log(a),"mail exists"===a.message)return i.b.error("Mail exists"),!1;if(a.token){var r=a.user._id;localStorage.setItem("token",a.token),fetch("".concat(n,"/login/me/").concat(r),{method:"GET",headers:{Authorization:a.token}}).then((function(e){return e.json()})).then((function(a){if(console.log(a),a.success){var n=a.data;localStorage.setItem("userId",a.data._id),localStorage.setItem("user",a.data),t({type:"LOGIN_SUCCESS",payload:n}),e.history.push("/profile"),i.b.success("user created successfully")}else a.error&&(console.log("error",a.err),i.b.error(a.err))})).catch((function(e){console.log(e)}))}}))},className:"registrationForm"},r.a.createElement("h1",null,"Register"),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"firstname"},"Firstname"),r.a.createElement("input",{autoFocus:!0,value:c.firstname,onChange:m,name:"firstname",type:"text",className:"form-control",id:"firstname",required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"lastname"},"Lastname"),r.a.createElement("input",{value:c.lastname,onChange:m,name:"lastname",type:"text",className:"form-control",id:"lastname",required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"email"},"Email address"),r.a.createElement("input",{value:c.email,onChange:m,name:"email",type:"email",className:"form-control",id:"email","aria-describedby":"emailHelp",required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"email"},"Username"),r.a.createElement("input",{value:c.username,onChange:m,name:"username",type:"text",className:"form-control",id:"username",required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"mobile"},"Mobile Number"),r.a.createElement("input",{value:c.mobile,onChange:m,name:"mobile",type:"tel",className:"form-control",id:"mobile",pattern:"\\+(9[976]\\d|8[987530]\\d|6[987]\\d|5[90]\\d|42\\d|3[875]\\d|2[98654321]\\d|9[8543210]|8[6421]|6[6543210]|5[87654321]|4[987654310]|3[9643210]|2[70]|7|1)\\d{1,14}$",required:!0})),r.a.createElement("span",{className:"validity",style:{marginTop:"6px",color:"red",fontSize:"15px"}},"Format: +1234......",r.a.createElement("span",null,"x")),r.a.createElement("br",null),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{value:c.password,onChange:m,name:"password",type:"password",className:"form-control",id:"password",required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"password"},"Confirm Password"),r.a.createElement("input",{value:c.confirmPassword,onChange:m,onBlur:function(){if(c.confirmPassword!==c.password)return i.b.error("Password is Mismatched"),!1},name:"confirmPassword",type:"password",className:"form-control",id:"password",required:!0})),c.errorMessage&&r.a.createElement("span",{className:"form-error"},c.errorMessage),r.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Submit"),r.a.createElement("p",{className:"mt-4 text-right"},"Already have an account?"," ",r.a.createElement(w.b,{className:"btn btn-primary",to:"/login"},"Login"))),r.a.createElement(i.a,{position:"top-right",hideProgressBar:!1,autoClose:!1,newestOnTop:!0,closeOnClick:!1,draggable:!1,rtl:!1})))},V=window.google?window.google:{},Y=function(){var e,a=Object(s.g)(),t=(r.a.useContext(d).dispatch,r.a.useState({pickup:"",destination:"",recName:"",recMobileNo:"",isSubmitting:!1,errorMessage:null})),l=Object(o.a)(t,2),c=l[0],m=l[1];Object(n.useEffect)((function(){var e=new V.maps.places.Autocomplete(document.getElementById("pickup"),{types:["geocode"]});V.maps.event.addListener(e,"place_changed",(function(){t(e)}));var a=new V.maps.places.Autocomplete(document.getElementById("destination"),{types:["geocode"]});console.log(document.getElementById("destination")),V.maps.event.addListener(a,"place_changed",(function(){t(a)}));var t=function(){m(Object(S.a)(Object(S.a)({},c),{},{pickup:document.getElementById("pickup").value,destination:document.getElementById("destination").value}))}}),[]);var u=function(e){m(Object(S.a)(Object(S.a)({},c),{},Object(y.a)({},e.target.name,e.target.value)))};return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:function(e){e.preventDefault();var t=JSON.parse(window.localStorage.getItem("token")),n=Object(E.a)(t).id;m(Object(S.a)(Object(S.a)({},c),{},{isSubmitting:!0,errorMessage:null})),fetch("".concat("https://send-it-app.herokuapp.com","/order"),{method:"post",headers:{"Content-Type":"application/json",Authorization:t},body:JSON.stringify({userId:n,pickup:c.pickup,destination:c.destination,recName:c.recName.toLocaleUpperCase(),recMobileNo:c.recMobileNo})}).then((function(e){return e.json()})).then((function(e){console.log(e),e.data?(i.b.success("parcel created successfully!"),localStorage.setItem("orderId",e.data.orderId),console.log(e.data.orderId),a.push("/profile")):e.error&&console.log(e.error)})).catch((function(e){console.log(e)}))},className:"orderForm"},r.a.createElement("h1",null,"Create Order"),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"pickup"},"Pickup Location"),r.a.createElement("input",(e={autoFocus:!0,defaultValue:c.pickup,onChange:u,placeholder:"Enter a location",name:"pickup",id:"pickup",type:"text",className:"form-control"},Object(y.a)(e,"id","pickup"),Object(y.a)(e,"required",!0),e))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"destination"},"Destination"),r.a.createElement("input",{value:c.destination,onChange:u,placeholder:"enter a destination",name:"destination",type:"text",className:"form-control",id:"destination",required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"recipName"},"Recipient Name"),r.a.createElement("input",{value:c.recName,onChange:u,name:"recName",type:"text",className:"form-control",id:"recName",required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"recipNum"},"Recipient Mobile Number"),r.a.createElement("input",{value:c.recMobileNo,onChange:u,name:"recMobileNo",type:"tel",pattern:"\\+(9[976]\\d|8[987530]\\d|6[987]\\d|5[90]\\d|42\\d|3[875]\\d|2[98654321]\\d|9[8543210]|8[6421]|6[6543210]|5[87654321]|4[987654310]|3[9643210]|2[70]|7|1)\\d{1,14}$",className:"form-control",id:"recMobileNo",required:!0})),r.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Create")))};t(57);var z=function(){var e=Object(n.useReducer)(F,U),a=Object(o.a)(e,2),t=a[0],l=a[1];return r.a.createElement(u,{value:{state:t,dispatch:l}},r.a.createElement(i.a,null),r.a.createElement("div",{className:"App"},t.user?r.a.createElement(X,null):r.a.createElement(W,null)),r.a.createElement(s.d,null,r.a.createElement(s.b,{path:"/register",render:function(e){return t.user?r.a.createElement(s.a,{to:"/profile"}):r.a.createElement(K,e)}}),r.a.createElement(s.b,{path:"/login",render:function(e){return t.user?r.a.createElement(s.a,{to:"/profile"}):r.a.createElement(O,e)}}),r.a.createElement(s.b,{path:"/createOrder",render:function(e){return t.user?r.a.createElement(Y,e):r.a.createElement(s.a,{to:"/"})}}),r.a.createElement(s.b,{path:"/profile",render:function(e){return t.user?r.a.createElement(R,e):r.a.createElement(s.a,{to:"/"})}}),r.a.createElement(s.b,{path:"/admin",render:function(e){return t.user?r.a.createElement(N,e):r.a.createElement(s.a,{to:"/"})}}),r.a.createElement(s.b,{path:"/userheader"},r.a.createElement(X,null)),r.a.createElement(s.b,{path:"/loginheader"},r.a.createElement(W,null)),r.a.createElement(s.b,{path:"/adminheader"},r.a.createElement(B,null)),r.a.createElement(s.b,{exact:!0,path:"/",render:function(e){return t.user?r.a.createElement(s.a,{to:"/profile"}):r.a.createElement(D,e)}})),r.a.createElement(L,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));t(58);var q=t(43),Z=Object(q.a)({basename:"/sendit-react-useContext"});c.a.render(r.a.createElement(w.a,{history:Z,basename:"/sendit-react-useContext"},r.a.createElement(z,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[44,1,2]]]);
//# sourceMappingURL=main.421e76c5.chunk.js.map